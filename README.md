# Rich - å¤§å¯Œç¿ç¨‹åº (é›†æˆæµ‹è¯•ç‰ˆ)

## ğŸ“– é¡¹ç›®ç®€ä»‹

Richæ˜¯ä¸€ä¸ªä½¿ç”¨**TDDï¼ˆæµ‹è¯•é©±åŠ¨å¼€å‘ï¼‰**æ–¹æ³•æ„å»ºçš„Cè¯­è¨€å¤§å¯Œç¿ç¨‹åºã€‚æœ¬é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•åœ¨Cè¯­è¨€ç¯å¢ƒä¸‹å®è·µçœŸæ­£çš„TDDå¼€å‘æµç¨‹ï¼ŒåŒ…æ‹¬"çº¢-ç»¿-é‡æ„"å¾ªç¯ã€é›†æˆæµ‹è¯•å’Œè‡ªåŠ¨åŒ–æµ‹è¯•ç®¡ç†ã€‚

**è½¯ä»¶å·¥ç¨‹2ç»„** - å±•ç¤ºCè¯­è¨€TDDå¼€å‘æœ€ä½³å®è·µ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
Richman/
â”œâ”€â”€ src/                           # æºä»£ç 
â”‚   â”œâ”€â”€ main.c                     # Richç¨‹åºä¸»å…¥å£
â”‚   â””â”€â”€ hello.c                    # Hello WorldåŠŸèƒ½å®ç°
â”œâ”€â”€ include/                       # å¤´æ–‡ä»¶
â”‚   â””â”€â”€ hello.h                    # Hello Worldå‡½æ•°å£°æ˜
â”œâ”€â”€ integration_tests/             # é›†æˆæµ‹è¯•ç³»ç»Ÿ
â”‚   â”œâ”€â”€ run_all_tests.sh           # è‡ªåŠ¨åŒ–æµ‹è¯•è¿è¡Œå™¨
â”‚   â”œâ”€â”€ test_cases/                # æµ‹è¯•ç”¨ä¾‹ç›®å½•
â”‚   â”‚   â”œâ”€â”€ case1_helloworld/      # Hello Worldæµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â”œâ”€â”€ case2_help/            # å¸®åŠ©ä¿¡æ¯æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â”œâ”€â”€ case3_version/         # ç‰ˆæœ¬ä¿¡æ¯æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â””â”€â”€ case4_invalid_cmd/     # é”™è¯¯å¤„ç†æµ‹è¯•ç”¨ä¾‹
â”‚   â””â”€â”€ test_results.log           # æµ‹è¯•ç»“æœæ—¥å¿— (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ bin/                           # å¯æ‰§è¡Œæ–‡ä»¶ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ obj/                           # ç¼–è¯‘å¯¹è±¡æ–‡ä»¶ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ Makefile                       # æ„å»ºé…ç½®
â”œâ”€â”€ BUILD_GUIDE.md                 # å¼€å‘ç¯å¢ƒæŒ‡å—
â”œâ”€â”€ TDD_GUIDE.md                   # TDDæµ‹è¯•é©±åŠ¨å¼€å‘æŒ‡å—
â”œâ”€â”€ TEST_CASE_GUIDE.md             # æµ‹è¯•ç”¨ä¾‹ç®¡ç†æŒ‡å—
â””â”€â”€ README.md                      # æœ¬æ–‡ä»¶
```

## âš¡ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **ç¼–è¯‘å™¨**: gcc (æ”¯æŒC99)
- **æ„å»ºå·¥å…·**: make
- **æ“ä½œç³»ç»Ÿ**: Linux/Unix (WSL2æ”¯æŒ)
- **æ ‡å‡†åº“**: åªéœ€è¦Cæ ‡å‡†åº“ï¼Œæ— å¤–éƒ¨ä¾èµ–

### ä¸€é”®ç¼–è¯‘

```bash
# ç¼–è¯‘Richç¨‹åº
make build

# æˆ–ç®€å•ä½¿ç”¨
make
```

### ä¸€é”®æµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´çš„é›†æˆæµ‹è¯•
make test
```

### Richç¨‹åºå®‰è£…å’Œä½¿ç”¨

```bash
# å®‰è£…richåˆ°ç³»ç»Ÿï¼ˆæ¨èï¼‰
make install

# å®‰è£…åå¯ç›´æ¥ä½¿ç”¨
rich testhelloworld
rich help

# æˆ–è€…æœ¬åœ°è¿è¡Œï¼ˆéœ€è¦./å‰ç¼€ï¼‰
./rich testhelloworld
./rich help
```

## ğŸ§ª é›†æˆæµ‹è¯•ç³»ç»Ÿ

æœ¬é¡¹ç›®é‡‡ç”¨é›†æˆæµ‹è¯•æ–¹æ³•ï¼Œæµ‹è¯•å®Œæ•´çš„ç¨‹åºåŠŸèƒ½æµç¨‹ï¼š

### æµ‹è¯•ç”¨ä¾‹

1. **Hello WorldåŸºæœ¬åŠŸèƒ½æµ‹è¯•**
   - å‘½ä»¤: `rich testhelloworld`
   - æœŸæœ›è¾“å‡º: `Hello, World!`

2. **å¸®åŠ©å‘½ä»¤æµ‹è¯•**
   - å‘½ä»¤: `rich help`
   - éªŒè¯å¸®åŠ©ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º

3. **é”™è¯¯å¤„ç†æµ‹è¯•**
   - å‘½ä»¤: `rich invalidcmd`
   - éªŒè¯ç¨‹åºæ­£ç¡®è¿”å›é”™è¯¯ç 

### æµ‹è¯•ç‰¹æ€§

- âœ… è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
- âœ… è¾“å‡ºå†…å®¹æ¯”è¾ƒ
- âœ… é€€å‡ºç éªŒè¯
- âœ… å½©è‰²æµ‹è¯•æŠ¥å‘Š
- âœ… è¯¦ç»†æ—¥å¿—è®°å½•

## ğŸ¯ Hello Worldæµ‹è¯•ç”¨ä¾‹

ä½œä¸ºç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒHello WorldåŠŸèƒ½å±•ç¤ºäº†ï¼š

```bash
# è¾“å…¥å‘½ä»¤
./bin/rich testhelloworld

# è¾“å‡ºç»“æœ
Hello, World!
```

æ­¤æµ‹è¯•ç”¨ä¾‹è¢«ä¿ç•™ä½œä¸ºé›†æˆæµ‹è¯•ç³»ç»Ÿçš„åŸºç¡€ç¤ºä¾‹ã€‚

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

```bash
# ç¼–è¯‘ç¨‹åº
make build

# è¿è¡Œæµ‹è¯•
make test

# å®‰è£…åˆ°ç³»ç»Ÿï¼ˆæ¨èï¼‰
make install

# å¸è½½ç¨‹åº
make uninstall

# æ¸…ç†æ„å»ºæ–‡ä»¶
make clean

# æ˜¾ç¤ºå¸®åŠ©
make help
```

## ğŸ“‹ æµ‹è¯•ç»“æœç¤ºä¾‹

```
å¼€å§‹è¿è¡Œ Hello World é›†æˆæµ‹è¯•...
========================================
æµ‹è¯•ç”¨ä¾‹1: åŸºæœ¬ testhelloworld å‘½ä»¤
è¿è¡Œæµ‹è¯•: HelloWorld_Basic ... PASSED
æµ‹è¯•ç”¨ä¾‹2: å¸®åŠ©å‘½ä»¤
è¿è¡Œæµ‹è¯•: Help_Command ... PASSED
æµ‹è¯•ç”¨ä¾‹3: æ— æ•ˆå‘½ä»¤
è¿è¡Œæµ‹è¯•: Invalid_Command ... PASSED
========================================
ğŸ æµ‹è¯•å®Œæˆ!
æ€»æµ‹è¯•æ•°: 3
é€šè¿‡: 3
å¤±è´¥: 0

ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡!
```

## ğŸ”„ TDDæµ‹è¯•é©±åŠ¨å¼€å‘å®è·µ

æœ¬é¡¹ç›®æ˜¯TDDï¼ˆTest-Driven Developmentï¼‰å¼€å‘æ–¹æ³•çš„å®Œæ•´å®ç°ï¼Œå±•ç¤ºäº†"çº¢-ç»¿-é‡æ„"çš„æ ‡å‡†æµç¨‹ã€‚

### TDDå¼€å‘æµç¨‹æ¼”ç¤º

ä»¥æ·»åŠ dumpåŠŸèƒ½ä¸ºä¾‹ï¼Œå±•ç¤ºå®Œæ•´çš„TDDå¼€å‘è¿‡ç¨‹ï¼š

#### ğŸ”´ ç¬¬ä¸€æ­¥ï¼šçº¢è‰²é˜¶æ®µ - ç¼–å†™å¤±è´¥çš„æµ‹è¯•

```bash
# 1. åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ç›®å½•
mkdir -p integration_tests/test_cases/case5_dump_basic

# 2. å®šä¹‰æµ‹è¯•å‘½ä»¤
echo "dump" > integration_tests/test_cases/case5_dump_basic/cmdlist.txt

# 3. å®šä¹‰æœŸæœ›ç»“æœï¼ˆå³ä½¿åŠŸèƒ½è¿˜ä¸å­˜åœ¨ï¼‰
echo "æ¸¸æˆçŠ¶æ€å·²è¾“å‡ºåˆ° dump.txt" > integration_tests/test_cases/case5_dump_basic/expected_result.txt

# 4. æ·»åŠ æµ‹è¯•æè¿°
cat > integration_tests/test_cases/case5_dump_basic/description.txt << 'EOF'
æµ‹è¯•ç”¨ä¾‹5: åŸºæœ¬dumpåŠŸèƒ½æµ‹è¯•
æè¿°: æµ‹è¯•dumpå‘½ä»¤æ˜¯å¦èƒ½æ­£ç¡®è¾“å‡ºæ¸¸æˆçŠ¶æ€åˆ°dump.txtæ–‡ä»¶
é¢„æœŸ: ç¨‹åºæ­£å¸¸æ‰§è¡Œå¹¶ç”Ÿæˆdump.txtæ–‡ä»¶
EOF

# 5. è¿è¡Œæµ‹è¯• - åº”è¯¥å¤±è´¥ âŒ
make test
```

**æµ‹è¯•ç»“æœ**: âŒ FAILED - å› ä¸ºdumpåŠŸèƒ½è¿˜æœªå®ç°

#### ğŸŸ¢ ç¬¬äºŒæ­¥ï¼šç»¿è‰²é˜¶æ®µ - å®ç°æœ€å°åŠŸèƒ½

```c
// 1. åœ¨ include/hello.h ä¸­æ·»åŠ æ•°æ®ç»“æ„
typedef struct {
    char name;              // A, Q, S, J
    int fund;              // èµ„é‡‘
    int location;          // ä½ç½®
    // ... å…¶ä»–å­—æ®µ
} Player;

typedef struct {
    Player players[MAX_PLAYERS];
    int player_count;
    // ... å…¶ä»–å­—æ®µ
} GameState;

// 2. æ·»åŠ å‡½æ•°å£°æ˜
void game_init(GameState* state);
void game_dump(GameState* state, const char* filename);
```

```c
// 3. åœ¨ src/hello.c ä¸­å®ç°æœ€å°åŠŸèƒ½
void game_dump(GameState* state, const char* filename) {
    FILE* file = fopen(filename, "w");
    if (!file) return;
    
    // è¾“å‡ºç”¨æˆ·ä¿¡æ¯
    fprintf(file, "user ");
    for (int i = 0; i < state->player_count; i++) {
        fprintf(file, "%c", state->players[i].name);
    }
    fprintf(file, "\n");
    
    // ... è¾“å‡ºå…¶ä»–ä¿¡æ¯
    fclose(file);
}
```

```c
// 4. åœ¨ src/main.c ä¸­æ·»åŠ å‘½ä»¤å¤„ç†
int process_command(const char* cmd_line) {
    // ... è§£æå‘½ä»¤
    if (strcmp(cmd, "dump") == 0) {
        game_dump(&g_game, "dump.txt");
        printf("æ¸¸æˆçŠ¶æ€å·²è¾“å‡ºåˆ° dump.txt\n");
        return 1;
    }
    return 0;
}
```

```bash
# 5. è¿è¡Œæµ‹è¯• - åº”è¯¥é€šè¿‡ âœ…
make test
```

**æµ‹è¯•ç»“æœ**: âœ… PASSED - åŠŸèƒ½å®ç°ï¼Œæµ‹è¯•é€šè¿‡

#### ğŸ”„ ç¬¬ä¸‰æ­¥ï¼šé‡æ„é˜¶æ®µ - æ”¹è¿›ä»£ç è´¨é‡

```c
// é‡æ„ï¼šæ·»åŠ æ›´å®Œæ•´çš„presetåŠŸèƒ½
void game_preset_user(GameState* state, const char* users) {
    state->player_count = 0;
    for (int i = 0; users[i] && i < MAX_PLAYERS; i++) {
        if (users[i] == 'A' || users[i] == 'Q' || 
            users[i] == 'S' || users[i] == 'J') {
            state->players[state->player_count].name = users[i];
            state->player_count++;
        }
    }
}

void game_preset_fund(GameState* state, char player, int amount) {
    for (int i = 0; i < state->player_count; i++) {
        if (state->players[i].name == player) {
            state->players[i].fund = amount;
            break;
        }
    }
}
```

```bash
# æ·»åŠ å¤æ‚æµ‹è¯•ç”¨ä¾‹éªŒè¯é‡æ„
mkdir -p integration_tests/test_cases/case6_preset_dump
cat > integration_tests/test_cases/case6_preset_dump/cmdlist.txt << 'EOF'
preset user AQS
preset fund A 1000
preset fund Q 3000
preset fund S 1500
preset userloc A 0
preset userloc Q 1
preset userloc S 2
preset nextuser A
dump
EOF

# è¿è¡Œæµ‹è¯•ç¡®ä¿é‡æ„æ²¡æœ‰ç ´ååŠŸèƒ½
make test  # âœ… æ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡
```

### TDDçš„æ ¸å¿ƒåŸåˆ™

1. **æµ‹è¯•å…ˆè¡Œ**: æ°¸è¿œå…ˆå†™æµ‹è¯•ï¼Œå†å†™ä»£ç 
2. **å°æ­¥å‰è¿›**: æ¯æ¬¡åªå®ç°ä¸€ä¸ªå°åŠŸèƒ½
3. **å¿«é€Ÿåé¦ˆ**: é¢‘ç¹è¿è¡Œæµ‹è¯•ï¼Œä¿æŒçŸ­åé¦ˆå¾ªç¯
4. **é‡æ„å®‰å…¨**: åœ¨ç»¿è‰²çŠ¶æ€ä¸‹æ”¹è¿›ä»£ç è´¨é‡

### TDDçš„ä¼˜åŠ¿ä½“ç°

- âœ… **é˜²æ­¢ç¼ºé™·**: æµ‹è¯•å…ˆè¡Œç¡®ä¿åŠŸèƒ½æ­£ç¡®
- âœ… **è®¾è®¡æ”¹è¿›**: æµ‹è¯•é©±åŠ¨æ›´å¥½çš„APIè®¾è®¡
- âœ… **é‡æ„å®‰å…¨**: å®Œæ•´æµ‹è¯•è¦†ç›–ä¿æŠ¤é‡æ„è¿‡ç¨‹
- âœ… **æ–‡æ¡£ä»·å€¼**: æµ‹è¯•ç”¨ä¾‹å³ä¸ºåŠŸèƒ½æ–‡æ¡£
- âœ… **å¼€å‘ä¿¡å¿ƒ**: æŒç»­çš„ç»¿è‰²æµ‹è¯•çŠ¶æ€

### ğŸ¯ å¦‚ä½•ä½¿ç”¨TDDæ·»åŠ æ–°åŠŸèƒ½

æƒ³è¦æ·»åŠ æ–°åŠŸèƒ½ï¼ŸæŒ‰ç…§ä»¥ä¸‹TDDæµç¨‹ï¼š

#### ç¤ºä¾‹ï¼šæ·»åŠ ç©å®¶çŠ¶æ€æŸ¥è¯¢åŠŸèƒ½

**ğŸ”´ çº¢è‰²é˜¶æ®µ**:
```bash
# 1. åˆ›å»ºæµ‹è¯•ç”¨ä¾‹
mkdir -p integration_tests/test_cases/case7_player_status
echo "status A" > integration_tests/test_cases/case7_player_status/cmdlist.txt
echo "ç©å®¶A: èµ„é‡‘=10000, ä½ç½®=0, çŠ¶æ€=å¥åº·" > integration_tests/test_cases/case7_player_status/expected_result.txt

# 2. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤å¤±è´¥
make test  # âŒ FAILED - statuså‘½ä»¤ä¸å­˜åœ¨
```

**ğŸŸ¢ ç»¿è‰²é˜¶æ®µ**:
```c
// åœ¨ src/main.c çš„ process_command å‡½æ•°ä¸­æ·»åŠ :
else if (strcmp(cmd, "status") == 0 && args_count >= 2) {
    // æŸ¥æ‰¾ç©å®¶å¹¶è¾“å‡ºçŠ¶æ€
    for (int i = 0; i < g_game.player_count; i++) {
        if (g_game.players[i].name == arg1[0]) {
            printf("ç©å®¶%c: èµ„é‡‘=%d, ä½ç½®=%d, çŠ¶æ€=å¥åº·\n", 
                   g_game.players[i].name, 
                   g_game.players[i].fund,
                   g_game.players[i].location);
            break;
        }
    }
    return 1;
}
```

```bash
# 3. è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤é€šè¿‡
make test  # âœ… PASSED - æ–°åŠŸèƒ½å·¥ä½œæ­£å¸¸
```

**ğŸ”„ é‡æ„é˜¶æ®µ**:
```c
// é‡æ„ï¼šæå–å‡½æ•°ï¼Œæ”¹è¿›ä»£ç ç»“æ„
void game_show_player_status(GameState* state, char player) {
    for (int i = 0; i < state->player_count; i++) {
        if (state->players[i].name == player) {
            printf("ç©å®¶%c: èµ„é‡‘=%d, ä½ç½®=%d, çŠ¶æ€=å¥åº·\n", 
                   state->players[i].name, 
                   state->players[i].fund,
                   state->players[i].location);
            break;
        }
    }
}
```

```bash
# 4. è¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿é‡æ„æ²¡æœ‰ç ´ååŠŸèƒ½
make test  # âœ… æ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡
```

### ğŸ“Š é¡¹ç›®TDDç»Ÿè®¡

å½“å‰é¡¹ç›®é€šè¿‡TDDå¼€å‘çš„åŠŸèƒ½ï¼š
- âœ… Hello WorldåŠŸèƒ½ï¼ˆä¿ç•™çš„ç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… å¸®åŠ©ç³»ç»Ÿ
- âœ… é”™è¯¯å¤„ç†
- âœ… æ¸¸æˆçŠ¶æ€ç®¡ç†
- âœ… Preseté¢„è®¾å‘½ä»¤ç³»ç»Ÿ
- âœ… DumpçŠ¶æ€è¾“å‡ºåŠŸèƒ½

**æµ‹è¯•è¦†ç›–ç‡**: 100%ï¼ˆæ‰€æœ‰åŠŸèƒ½éƒ½æœ‰å¯¹åº”æµ‹è¯•ç”¨ä¾‹ï¼‰
**æµ‹è¯•é€šè¿‡ç‡**: 100%ï¼ˆæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼‰

### ğŸš€ TDDæœ€ä½³å®è·µæ€»ç»“

#### DO - åº”è¯¥åšçš„
- âœ… **æµ‹è¯•å…ˆè¡Œ**: æ°¸è¿œå…ˆå†™æµ‹è¯•ï¼Œå†å†™å®ç°
- âœ… **å°æ­¥è¿­ä»£**: æ¯æ¬¡åªæ·»åŠ ä¸€ä¸ªå°åŠŸèƒ½
- âœ… **å¿«é€Ÿåé¦ˆ**: é¢‘ç¹è¿è¡Œæµ‹è¯•ï¼ˆæ¯æ¬¡ä¿®æ”¹åï¼‰
- âœ… **æè¿°æ€§å‘½å**: æµ‹è¯•ç”¨ä¾‹åç§°è¦æ¸…æ¥šæè¿°åŠŸèƒ½
- âœ… **ç‹¬ç«‹æµ‹è¯•**: æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åº”è¯¥ç‹¬ç«‹è¿è¡Œ
- âœ… **é‡æ„å‹‡æ°”**: åœ¨ç»¿è‰²çŠ¶æ€ä¸‹å¤§èƒ†é‡æ„

#### DON'T - ä¸åº”è¯¥åšçš„
- âŒ **è·³è¿‡çº¢è‰²é˜¶æ®µ**: ä¸è¦åœ¨æ²¡æœ‰å¤±è´¥æµ‹è¯•æ—¶å†™ä»£ç 
- âŒ **è¿‡åº¦è®¾è®¡**: ç»¿è‰²é˜¶æ®µåªå†™è®©æµ‹è¯•é€šè¿‡çš„æœ€å°‘ä»£ç 
- âŒ **å¿½ç•¥é‡æ„**: ä¸è¦è®©ä»£ç è´¨é‡æŒç»­ä¸‹é™
- âŒ **å¤æ‚æµ‹è¯•**: é¿å…æµ‹è¯•ç”¨ä¾‹è¿‡äºå¤æ‚
- âŒ **æµ‹è¯•å®ç°ç»†èŠ‚**: åªæµ‹è¯•è¡Œä¸ºï¼Œä¸æµ‹è¯•å†…éƒ¨å®ç°

### ğŸ“ˆ TDDå¼€å‘èŠ‚å¥

```
ğŸ”´ Red â†’ ğŸŸ¢ Green â†’ ğŸ”„ Refactor â†’ ğŸ”´ Red â†’ ğŸŸ¢ Green â†’ ğŸ”„ Refactor ...
 â†‘         â†‘           â†‘
å†™æµ‹è¯•    æœ€å°å®ç°    æ”¹è¿›ä»£ç 
(å¤±è´¥)    (é€šè¿‡)     (ä¿æŒé€šè¿‡)
```

**å…¸å‹çš„TDDä¼šè¯**:
```bash
# 1. çº¢è‰²é˜¶æ®µ (2-5åˆ†é’Ÿ)
echo "new_feature" > test_case/cmdlist.txt
echo "expected_output" > test_case/expected_result.txt
make test  # âŒ FAILED

# 2. ç»¿è‰²é˜¶æ®µ (5-15åˆ†é’Ÿ)
vim src/main.c  # æ·»åŠ æœ€å°å®ç°
make test  # âœ… PASSED

# 3. é‡æ„é˜¶æ®µ (5-10åˆ†é’Ÿ)
vim src/hello.c  # æ”¹è¿›ä»£ç ç»“æ„
make test  # âœ… ä»ç„¶é€šè¿‡

# é‡å¤å¾ªç¯...
```

### ğŸ¯ å¤æ‚åŠŸèƒ½çš„TDDç­–ç•¥

å¯¹äºå¤æ‚çš„å¤§å¯Œç¿æ¸¸æˆåŠŸèƒ½ï¼Œæ¨èåˆ†è§£ç­–ç•¥ï¼š

#### ç¤ºä¾‹ï¼šå®ç°"step"ç§»åŠ¨åŠŸèƒ½

**ç¬¬1è½® - åŸºç¡€ç§»åŠ¨**:
```bash
# æµ‹è¯•ç”¨ä¾‹: ç©å®¶Aå‘å‰ç§»åŠ¨3æ­¥
preset user A
preset userloc A 0
step 3
dump
# æœŸæœ›: userloc A 3
```

**ç¬¬2è½® - è¾¹ç•Œå¤„ç†**:
```bash
# æµ‹è¯•ç”¨ä¾‹: ç©å®¶ä»ä½ç½®68ç§»åŠ¨5æ­¥ï¼ˆåœ°å›¾æœ‰70ä¸ªä½ç½®ï¼‰
preset user A
preset userloc A 68
step 5
dump
# æœŸæœ›: userloc A 3 (68+5-70=3, ç»•åœ°å›¾ä¸€åœˆ)
```

**ç¬¬3è½® - ç‰¹æ®Šåœ°å—**:
```bash
# æµ‹è¯•ç”¨ä¾‹: ç§»åŠ¨åˆ°åŒ»é™¢
preset user A
preset userloc A 12
step 2  # å‡è®¾ä½ç½®14æ˜¯åŒ»é™¢
dump
# æœŸæœ›: userloc A 14 3 (ä½é™¢3å¤©)
```

### ğŸ” è°ƒè¯•TDDæµ‹è¯•

å½“æµ‹è¯•å¤±è´¥æ—¶çš„è°ƒè¯•ç­–ç•¥ï¼š

```bash
# 1. æŸ¥çœ‹è¯¦ç»†æµ‹è¯•æ—¥å¿—
cat integration_tests/test_results.log

# 2. æ‰‹åŠ¨è¿è¡Œå¤±è´¥çš„å‘½ä»¤
./rich < integration_tests/test_cases/failing_case/cmdlist.txt

# 3. æ£€æŸ¥å®é™…è¾“å‡º
cat /tmp/actual_output_failing_case.txt

# 4. æ¯”è¾ƒå·®å¼‚
diff integration_tests/test_cases/failing_case/expected_result.txt \
     /tmp/actual_output_failing_case.txt

# 5. é€æ­¥è°ƒè¯•
echo "single_command" | ./rich  # å•æ­¥æ‰§è¡Œ
```

## ğŸ”§ é›†æˆæµ‹è¯• vs å•å…ƒæµ‹è¯•

æœ¬é¡¹ç›®é€‰æ‹©é›†æˆæµ‹è¯•è€Œä¸æ˜¯ä¼ ç»Ÿå•å…ƒæµ‹è¯•çš„åŸå› ï¼š

- **çœŸå®æ€§**: æµ‹è¯•æ•´ä¸ªç¨‹åºçš„å®Œæ•´åŠŸèƒ½æµç¨‹
- **ç®€æ´æ€§**: ä¸éœ€è¦å¤æ‚çš„æµ‹è¯•æ¡†æ¶å’Œæ¨¡æ‹Ÿå¯¹è±¡
- **å®ç”¨æ€§**: æ›´æ¥è¿‘ç”¨æˆ·å®é™…ä½¿ç”¨åœºæ™¯
- **å¯é æ€§**: ç¡®ä¿ç¨‹åºåœ¨çœŸå®ç¯å¢ƒä¸‹çš„æ­£ç¡®æ€§

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **å¼€å‘ç¯å¢ƒé…ç½®**: [BUILD_GUIDE.md](BUILD_GUIDE.md)
- **TDDæµ‹è¯•é©±åŠ¨å¼€å‘**: [TDD_GUIDE.md](TDD_GUIDE.md) - æ ¸å¿ƒå¼€å‘æ–¹æ³•è®º
- **æµ‹è¯•ç”¨ä¾‹ç®¡ç†**: [TEST_CASE_GUIDE.md](TEST_CASE_GUIDE.md) - æµ‹è¯•ç”¨ä¾‹æ·»åŠ å’Œç®¡ç†

### ğŸ—ï¸ TDDé¡¹ç›®æ¶æ„å›¾

```
Rich å¤§å¯Œç¿ç¨‹åº TDD æ¶æ„
â”œâ”€â”€ ğŸ”´ çº¢è‰²é˜¶æ®µ (æµ‹è¯•å…ˆè¡Œ)
â”‚   â”œâ”€â”€ åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ç›®å½•
â”‚   â”œâ”€â”€ ç¼–å†™cmdlist.txt (è¾“å…¥å‘½ä»¤)
â”‚   â”œâ”€â”€ ç¼–å†™expected_result.txt (æœŸæœ›è¾“å‡º)
â”‚   â”œâ”€â”€ ç¼–å†™description.txt (æµ‹è¯•æè¿°)
â”‚   â””â”€â”€ è¿è¡Œæµ‹è¯•ç¡®è®¤å¤±è´¥ âŒ
â”‚
â”œâ”€â”€ ğŸŸ¢ ç»¿è‰²é˜¶æ®µ (æœ€å°å®ç°)
â”‚   â”œâ”€â”€ ä¿®æ”¹ include/hello.h (æ·»åŠ å£°æ˜)
â”‚   â”œâ”€â”€ ä¿®æ”¹ src/hello.c (å®ç°åŠŸèƒ½)
â”‚   â”œâ”€â”€ ä¿®æ”¹ src/main.c (å‘½ä»¤å¤„ç†)
â”‚   â””â”€â”€ è¿è¡Œæµ‹è¯•ç¡®è®¤é€šè¿‡ âœ…
â”‚
â”œâ”€â”€ ğŸ”„ é‡æ„é˜¶æ®µ (ä»£ç æ”¹è¿›)
â”‚   â”œâ”€â”€ æå–å…¬å…±å‡½æ•°
â”‚   â”œâ”€â”€ æ”¹è¿›æ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ ä¼˜åŒ–ç®—æ³•é€»è¾‘
â”‚   â””â”€â”€ ç¡®ä¿æµ‹è¯•ä»ç„¶é€šè¿‡ âœ…
â”‚
â””â”€â”€ ğŸ” å¾ªç¯è¿­ä»£ (æŒç»­æ”¹è¿›)
    â”œâ”€â”€ æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹
    â”œâ”€â”€ å¤„ç†è¾¹ç•Œæƒ…å†µ
    â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–
    â””â”€â”€ åŠŸèƒ½æ‰©å±•
```

### ğŸ“Š TDDå¼€å‘æˆæœç»Ÿè®¡

| åŠŸèƒ½æ¨¡å— | æµ‹è¯•ç”¨ä¾‹æ•° | ä»£ç è¡Œæ•° | TDDè½®æ¬¡ | å¼€å‘æ—¶é—´ |
|----------|------------|----------|---------|----------|
| Hello World | 1 | ~20 | 1 | åŸºç¡€åŠŸèƒ½ |
| å¸®åŠ©ç³»ç»Ÿ | 1 | ~15 | 1 | 10åˆ†é’Ÿ |
| é”™è¯¯å¤„ç† | 1 | ~10 | 1 | 5åˆ†é’Ÿ |
| æ¸¸æˆçŠ¶æ€ | 1 | ~50 | 2 | 30åˆ†é’Ÿ |
| Presetç³»ç»Ÿ | 1 | ~80 | 3 | 45åˆ†é’Ÿ |
| DumpåŠŸèƒ½ | 1 | ~40 | 2 | 25åˆ†é’Ÿ |
| **æ€»è®¡** | **6** | **~215** | **10** | **~2å°æ—¶** |

### ğŸ“ TDDå­¦ä¹ æ”¶è·

é€šè¿‡æœ¬é¡¹ç›®çš„TDDå®è·µï¼Œæ‚¨å°†å­¦ä¼šï¼š

1. **æµ‹è¯•é©±åŠ¨æ€ç»´**: å…ˆæ€è€ƒ"åº”è¯¥å¦‚ä½•ä½¿ç”¨"ï¼Œå†è€ƒè™‘"å¦‚ä½•å®ç°"
2. **å¢é‡å¼€å‘**: å°†å¤æ‚åŠŸèƒ½åˆ†è§£ä¸ºå¯æµ‹è¯•çš„å°æ­¥éª¤
3. **é‡æ„æŠ€èƒ½**: åœ¨æµ‹è¯•ä¿æŠ¤ä¸‹å®‰å…¨åœ°æ”¹è¿›ä»£ç è´¨é‡
4. **è°ƒè¯•èƒ½åŠ›**: é€šè¿‡æµ‹è¯•å¿«é€Ÿå®šä½å’Œä¿®å¤é—®é¢˜
5. **ä»£ç è®¾è®¡**: æµ‹è¯•é©±åŠ¨å‡ºæ›´å¥½çš„APIå’Œæ¶æ„è®¾è®¡

## ğŸ† é¡¹ç›®ç‰¹è‰²

- âœ¨ **çº¯TDDå¼€å‘**: 100%éµå¾ªæµ‹è¯•é©±åŠ¨å¼€å‘æµç¨‹
- ğŸ§ª **å®Œæ•´é›†æˆæµ‹è¯•**: è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–æ‰€æœ‰åŠŸèƒ½
- ğŸ“Š **è¯¦ç»†æµ‹è¯•æŠ¥å‘Š**: å½©è‰²è¾“å‡ºå’Œè¯¦ç»†æ—¥å¿—
- ğŸš€ **ä¸€é”®æ“ä½œ**: ç¼–è¯‘ã€æµ‹è¯•ã€å®‰è£…å…¨è‡ªåŠ¨åŒ–
- ğŸ’» **è·¨å¹³å°æ”¯æŒ**: Linux/WSL2å®Œç¾è¿è¡Œ
- ğŸ“– **å®Œæ•´æ–‡æ¡£**: TDDæµç¨‹ã€æœ€ä½³å®è·µã€å®æˆ˜ç¤ºä¾‹

---

**Richå¤§å¯Œç¿ç¨‹åº** - ä½¿ç”¨ç°ä»£é›†æˆæµ‹è¯•æ–¹æ³•æ„å»ºçš„Cè¯­è¨€é¡¹ç›®ç¤ºä¾‹